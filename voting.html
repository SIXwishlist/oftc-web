---
layout: master
title: Voting
---

<table id="members">
    <thead>
        <tr>
            <th class='index'>Rank</th>
            <th></th>
            <th>Name</th>
            <th>Nick</th>
            <th>Sponsor</th>
            <th>Obmusdman</th>
            <th>Remove</th>
        </tr>
    </thead>
    <tbody>
    </tbody>
</table>

<input type="button" class="btn" id="submit" value="Process" />
<script type="text/javascript">
	var voteMembers = $.getJSON('/staff.json', function(data)
    {
        $.each(data["staff"], function(i, item)
        {
            var newRow = $("<tr>").appendTo("#members");
        
            var col = $("<td class='index'>").appendTo(newRow);
            col.append(i + 1)
            col = $("<td>").appendTo(newRow);
            col.append("<i class='handle icon-cog'>");
            addCol(newRow, { type: "text", id: "name"+i, name: "Name", value: item["Name"], readonly: true });
            addCol(newRow, { type: "text", id: "nick"+i, name: "nick", value: item["Nick"], readonly: true });
            addCol(newRow, { type: "checkbox", id: "sponsor"+i, name: "sponsor", value: item["Sponsor"], disabled: "disabled" });
            addCol(newRow, { type: "checkbox", id: "ombudsman"+i, name: "ombudsman" });
            addCol(newRow, { type: "checkbox", id: "remove"+i, name: "remove" });
        });
    });

    function addCol(row, attr)
    {
        row.append($("<td>").append($("<input>").attr(attr)));
    }

    updateIndex = function(e, ui) {
        $('td.index', ui.item.parent()).each(function (i) {
            $(this).html(i + 1);
        });
    };

    $("#members tbody").sortable(
    {
        handle: '.handle',
        stop: updateIndex
    });

    $("#submit").click(function()
    {
    });
</script>
